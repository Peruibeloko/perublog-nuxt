import{_ as bt}from"./DMQEJE7E.js";import{h as S,r as _,x as Rt,k as Y,y as Ct,z as Et,A as V,u as U,f as Lt,o as ot,c as Ot,a as Tt,t as St,B as _t,C as it,s as Dt,w as At,D as kt,_ as Ft}from"./DM1clVK2.js";const K=Math.min,B=Math.max,$=Math.round,I=Math.floor,D=t=>({x:t,y:t});function at(t){return t.split("-")[0]}function Vt(t){return t.split("-")[1]}function Bt(t){return t==="x"?"y":"x"}function Nt(t){return t==="y"?"height":"width"}function dt(t){return["top","bottom"].includes(at(t))?"y":"x"}function Mt(t){return Bt(dt(t))}function ht(t){const{x:e,y:n,width:o,height:i}=t;return{width:o,height:i,top:n,left:e,right:e+o,bottom:n+i,x:e,y:n}}function rt(t,e,n){let{reference:o,floating:i}=t;const c=dt(e),r=Mt(e),s=Nt(r),u=at(e),l=c==="y",f=o.x+o.width/2-i.width/2,a=o.y+o.height/2-i.height/2,h=o[s]/2-i[s]/2;let d;switch(u){case"top":d={x:f,y:o.y-i.height};break;case"bottom":d={x:f,y:o.y+o.height};break;case"right":d={x:o.x+o.width,y:a};break;case"left":d={x:o.x-i.width,y:a};break;default:d={x:o.x,y:o.y}}switch(Vt(e)){case"start":d[r]-=h*(n&&l?-1:1);break;case"end":d[r]+=h*(n&&l?-1:1);break}return d}const Wt=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:c=[],platform:r}=n,s=c.filter(Boolean),u=await(r.isRTL==null?void 0:r.isRTL(e));let l=await r.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:a}=rt(l,o,u),h=o,d={},v=0;for(let p=0;p<s.length;p++){const{name:y,fn:g}=s[p],{x:w,y:x,data:O,reset:R}=await g({x:f,y:a,initialPlacement:o,placement:h,strategy:i,middlewareData:d,rects:l,platform:r,elements:{reference:t,floating:e}});f=w??f,a=x??a,d={...d,[y]:{...d[y],...O}},R&&v<=50&&(v++,typeof R=="object"&&(R.placement&&(h=R.placement),R.rects&&(l=R.rects===!0?await r.getElementRects({reference:t,floating:e,strategy:i}):R.rects),{x:f,y:a}=rt(l,h,u)),p=-1)}return{x:f,y:a,placement:h,strategy:i,middlewareData:d}};function F(t){return J(t)?(t.nodeName||"").toLowerCase():"#document"}function b(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function T(t){var e;return(e=(J(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function J(t){return t instanceof Node||t instanceof b(t).Node}function C(t){return t instanceof Element||t instanceof b(t).Element}function L(t){return t instanceof HTMLElement||t instanceof b(t).HTMLElement}function st(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof b(t).ShadowRoot}function z(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=E(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function Ht(t){return["table","td","th"].includes(F(t))}function X(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Q(t){const e=Z(),n=C(t)?E(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function Pt(t){let e=A(t);for(;L(e)&&!M(e);){if(Q(e))return e;if(X(e))return null;e=A(e)}return null}function Z(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function M(t){return["html","body","#document"].includes(F(t))}function E(t){return b(t).getComputedStyle(t)}function j(t){return C(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function A(t){if(F(t)==="html")return t;const e=t.assignedSlot||t.parentNode||st(t)&&t.host||T(t);return st(e)?e.host:e}function pt(t){const e=A(t);return M(e)?t.ownerDocument?t.ownerDocument.body:t.body:L(e)&&z(e)?e:pt(e)}function P(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=pt(t),c=i===((o=t.ownerDocument)==null?void 0:o.body),r=b(i);if(c){const s=G(r);return e.concat(r,r.visualViewport||[],z(i)?i:[],s&&n?P(s):[])}return e.concat(i,P(i,[],n))}function G(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function gt(t){const e=E(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=L(t),c=i?t.offsetWidth:n,r=i?t.offsetHeight:o,s=$(n)!==c||$(o)!==r;return s&&(n=c,o=r),{width:n,height:o,$:s}}function tt(t){return C(t)?t:t.contextElement}function N(t){const e=tt(t);if(!L(e))return D(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:c}=gt(e);let r=(c?$(n.width):n.width)/o,s=(c?$(n.height):n.height)/i;return(!r||!Number.isFinite(r))&&(r=1),(!s||!Number.isFinite(s))&&(s=1),{x:r,y:s}}const zt=D(0);function mt(t){const e=b(t);return!Z()||!e.visualViewport?zt:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function It(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==b(t)?!1:e}function k(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),c=tt(t);let r=D(1);e&&(o?C(o)&&(r=N(o)):r=N(t));const s=It(c,n,o)?mt(c):D(0);let u=(i.left+s.x)/r.x,l=(i.top+s.y)/r.y,f=i.width/r.x,a=i.height/r.y;if(c){const h=b(c),d=o&&C(o)?b(o):o;let v=h,p=G(v);for(;p&&o&&d!==v;){const y=N(p),g=p.getBoundingClientRect(),w=E(p),x=g.left+(p.clientLeft+parseFloat(w.paddingLeft))*y.x,O=g.top+(p.clientTop+parseFloat(w.paddingTop))*y.y;u*=y.x,l*=y.y,f*=y.x,a*=y.y,u+=x,l+=O,v=b(p),p=G(v)}}return ht({width:f,height:a,x:u,y:l})}function $t(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const c=i==="fixed",r=T(o),s=e?X(e.floating):!1;if(o===r||s&&c)return n;let u={scrollLeft:0,scrollTop:0},l=D(1);const f=D(0),a=L(o);if((a||!a&&!c)&&((F(o)!=="body"||z(r))&&(u=j(o)),L(o))){const h=k(o);l=N(o),f.x=h.x+o.clientLeft,f.y=h.y+o.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-u.scrollLeft*l.x+f.x,y:n.y*l.y-u.scrollTop*l.y+f.y}}function Xt(t){return Array.from(t.getClientRects())}function wt(t){return k(T(t)).left+j(t).scrollLeft}function jt(t){const e=T(t),n=j(t),o=t.ownerDocument.body,i=B(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),c=B(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let r=-n.scrollLeft+wt(t);const s=-n.scrollTop;return E(o).direction==="rtl"&&(r+=B(e.clientWidth,o.clientWidth)-i),{width:i,height:c,x:r,y:s}}function Yt(t,e){const n=b(t),o=T(t),i=n.visualViewport;let c=o.clientWidth,r=o.clientHeight,s=0,u=0;if(i){c=i.width,r=i.height;const l=Z();(!l||l&&e==="fixed")&&(s=i.offsetLeft,u=i.offsetTop)}return{width:c,height:r,x:s,y:u}}function qt(t,e){const n=k(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,c=L(t)?N(t):D(1),r=t.clientWidth*c.x,s=t.clientHeight*c.y,u=i*c.x,l=o*c.y;return{width:r,height:s,x:u,y:l}}function lt(t,e,n){let o;if(e==="viewport")o=Yt(t,n);else if(e==="document")o=jt(T(t));else if(C(e))o=qt(e,n);else{const i=mt(t);o={...e,x:e.x-i.x,y:e.y-i.y}}return ht(o)}function yt(t,e){const n=A(t);return n===e||!C(n)||M(n)?!1:E(n).position==="fixed"||yt(n,e)}function Ut(t,e){const n=e.get(t);if(n)return n;let o=P(t,[],!1).filter(s=>C(s)&&F(s)!=="body"),i=null;const c=E(t).position==="fixed";let r=c?A(t):t;for(;C(r)&&!M(r);){const s=E(r),u=Q(r);!u&&s.position==="fixed"&&(i=null),(c?!u&&!i:!u&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||z(r)&&!u&&yt(t,r))?o=o.filter(f=>f!==r):i=s,r=A(r)}return e.set(t,o),o}function Kt(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const r=[...n==="clippingAncestors"?X(e)?[]:Ut(e,this._c):[].concat(n),o],s=r[0],u=r.reduce((l,f)=>{const a=lt(e,f,i);return l.top=B(a.top,l.top),l.right=K(a.right,l.right),l.bottom=K(a.bottom,l.bottom),l.left=B(a.left,l.left),l},lt(e,s,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Gt(t){const{width:e,height:n}=gt(t);return{width:e,height:n}}function Jt(t,e,n){const o=L(e),i=T(e),c=n==="fixed",r=k(t,!0,c,e);let s={scrollLeft:0,scrollTop:0};const u=D(0);if(o||!o&&!c)if((F(e)!=="body"||z(i))&&(s=j(e)),o){const a=k(e,!0,c,e);u.x=a.x+e.clientLeft,u.y=a.y+e.clientTop}else i&&(u.x=wt(i));const l=r.left+s.scrollLeft-u.x,f=r.top+s.scrollTop-u.y;return{x:l,y:f,width:r.width,height:r.height}}function q(t){return E(t).position==="static"}function ct(t,e){return!L(t)||E(t).position==="fixed"?null:e?e(t):t.offsetParent}function vt(t,e){const n=b(t);if(X(t))return n;if(!L(t)){let i=A(t);for(;i&&!M(i);){if(C(i)&&!q(i))return i;i=A(i)}return n}let o=ct(t,e);for(;o&&Ht(o)&&q(o);)o=ct(o,e);return o&&M(o)&&q(o)&&!Q(o)?n:o||Pt(t)||n}const Qt=async function(t){const e=this.getOffsetParent||vt,n=this.getDimensions,o=await n(t.floating);return{reference:Jt(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Zt(t){return E(t).direction==="rtl"}const te={convertOffsetParentRelativeRectToViewportRelativeRect:$t,getDocumentElement:T,getClippingRect:Kt,getOffsetParent:vt,getElementRects:Qt,getClientRects:Xt,getDimensions:Gt,getScale:N,isElement:C,isRTL:Zt};function ee(t,e){let n=null,o;const i=T(t);function c(){var s;clearTimeout(o),(s=n)==null||s.disconnect(),n=null}function r(s,u){s===void 0&&(s=!1),u===void 0&&(u=1),c();const{left:l,top:f,width:a,height:h}=t.getBoundingClientRect();if(s||e(),!a||!h)return;const d=I(f),v=I(i.clientWidth-(l+a)),p=I(i.clientHeight-(f+h)),y=I(l),w={rootMargin:-d+"px "+-v+"px "+-p+"px "+-y+"px",threshold:B(0,K(1,u))||1};let x=!0;function O(R){const W=R[0].intersectionRatio;if(W!==u){if(!x)return r();W?r(!1,W):o=setTimeout(()=>{r(!1,1e-7)},1e3)}x=!1}try{n=new IntersectionObserver(O,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,w)}n.observe(t)}return r(!0),c}function ne(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:c=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:u=!1}=o,l=tt(t),f=i||c?[...l?P(l):[],...P(e)]:[];f.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),c&&g.addEventListener("resize",n)});const a=l&&s?ee(l,n):null;let h=-1,d=null;r&&(d=new ResizeObserver(g=>{let[w]=g;w&&w.target===l&&d&&(d.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=d)==null||x.observe(e)})),n()}),l&&!u&&d.observe(l),d.observe(e));let v,p=u?k(t):null;u&&y();function y(){const g=k(t);p&&(g.x!==p.x||g.y!==p.y||g.width!==p.width||g.height!==p.height)&&n(),p=g,v=requestAnimationFrame(y)}return n(),()=>{var g;f.forEach(w=>{i&&w.removeEventListener("scroll",n),c&&w.removeEventListener("resize",n)}),a==null||a(),(g=d)==null||g.disconnect(),d=null,u&&cancelAnimationFrame(v)}}const oe=(t,e,n)=>{const o=new Map,i={platform:te,...n},c={...i.platform,_c:o};return Wt(t,e,{...i,platform:c})};function ie(t){return t!=null&&typeof t=="object"&&"$el"in t}function ut(t){if(ie(t)){const e=t.$el;return J(e)&&F(e)==="#comment"?null:e}return t}function H(t){return typeof t=="function"?t():U(t)}function xt(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ft(t,e){const n=xt(t);return Math.round(e*n)/n}function re(t,e,n){n===void 0&&(n={});const o=n.whileElementsMounted,i=S(()=>{var m;return(m=H(n.open))!=null?m:!0}),c=S(()=>H(n.middleware)),r=S(()=>{var m;return(m=H(n.placement))!=null?m:"bottom"}),s=S(()=>{var m;return(m=H(n.strategy))!=null?m:"absolute"}),u=S(()=>{var m;return(m=H(n.transform))!=null?m:!0}),l=S(()=>ut(t.value)),f=S(()=>ut(e.value)),a=_(0),h=_(0),d=_(s.value),v=_(r.value),p=Rt({}),y=_(!1),g=S(()=>{const m={position:d.value,left:"0",top:"0"};if(!f.value)return m;const et=ft(f.value,a.value),nt=ft(f.value,h.value);return u.value?{...m,transform:"translate("+et+"px, "+nt+"px)",...xt(f.value)>=1.5&&{willChange:"transform"}}:{position:d.value,left:et+"px",top:nt+"px"}});let w;function x(){l.value==null||f.value==null||oe(l.value,f.value,{middleware:c.value,placement:r.value,strategy:s.value}).then(m=>{a.value=m.x,h.value=m.y,d.value=m.strategy,v.value=m.placement,p.value=m.middlewareData,y.value=!0})}function O(){typeof w=="function"&&(w(),w=void 0)}function R(){if(O(),o===void 0){x();return}if(l.value!=null&&f.value!=null){w=o(l.value,f.value,x);return}}function W(){i.value||(y.value=!1)}return Y([c,r,s],x,{flush:"sync"}),Y([l,f],R,{flush:"sync"}),Y(i,W,{flush:"sync"}),Ct()&&Et(O),{x:V(a),y:V(h),strategy:V(d),placement:V(v),middlewareData:V(p),isPositioned:V(y),floatingStyles:g,update:x}}const se=Lt({__name:"ProseA",props:{href:{type:String,default:""},target:{type:String,default:"_blank",required:!1}},setup(t){const e=t,n=_(),o=_(),{floatingStyles:i,update:c}=re(n,o,{placement:"top",strategy:"fixed",whileElementsMounted:ne}),r=e.href.match(/user-content-fn-\w+/),s=_(r!==null),u=f=>{const h=f.target.children[0];h.open?h.close():h.show(),c()},l=()=>{if(r===null)return;const[f,a]=kt("footnotes"),h=r[0].split("-").at(-1)??"";return f.value[h]};return(f,a)=>{const h=bt;return U(s)?(ot(),Ot("span",{key:0,onClick:u,ref_key:"anchor",ref:n},[Tt("dialog",{style:_t(U(i)),ref_key:"footnote",ref:o},St(l()),5),it(f.$slots,"default",{},void 0,!0)],512)):(ot(),Dt(h,{key:1,href:t.href,target:t.target},{default:At(()=>[it(f.$slots,"default",{},void 0,!0)]),_:3},8,["href","target"]))}}}),ue=Ft(se,[["__scopeId","data-v-fe59dd85"]]);export{ue as default};
